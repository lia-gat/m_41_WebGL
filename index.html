<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>three.js — Геометрические фигуры</title>
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <style>
      body {
        margin: 0;
        overflow: hidden;
      }
      #info {
        position: absolute;
        top: 10px;
        width: 100%;
        text-align: center;
        color: #000;
        font-family: sans-serif;
        font-size: 20px;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <div id="info">Трехмерные фигуры</div>

    <script type="importmap">
      {
        "imports": {
          "three": "https://threejs.org/build/three.module.js"
        }
      }
    </script>

    <script type="module">
      import * as THREE from "three";
      import { OrbitControls } from "https://threejs.org/examples/jsm/controls/OrbitControls.js";
      // import { TeapotGeometry } from "https://threejs.org/examples/jsm/geometries/TeapotGeometry.js";

      let camera, scene, renderer, controls;

      init();
      animate();

      function init() {
        const container = document.createElement("div");
        document.body.appendChild(container);

        // Камера
        camera = new THREE.PerspectiveCamera(
          45,
          window.innerWidth / window.innerHeight,
          1,
          5000
        );
        camera.position.set(500, 600, 1200);

        // Освещение
        const ambientLight = new THREE.AmbientLight(0x555555);
        const light = new THREE.DirectionalLight(0xffffff, 1.0);
        light.position.set(1, 1, 1);

        // Рендерер
        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.setSize(window.innerWidth, window.innerHeight);
        container.appendChild(renderer.domElement);

        // Контролы
        controls = new OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.minDistance = 500;
        controls.maxDistance = 2500;

        // Сцена
        scene = new THREE.Scene();
        scene.background = new THREE.Color("#CDF1FF");
        scene.add(ambientLight);
        scene.add(light);

        // === Геометрические фигуры ===

        // 1. Сфера
        let sphere = new THREE.Mesh(
          new THREE.SphereGeometry(100, 32, 32),
          new THREE.MeshPhongMaterial({ color: "#FF0000" })
        );
        sphere.position.set(-400, 0, -400);
        scene.add(sphere);

        // 2. Цилиндр
        let cylinder = new THREE.Mesh(
          new THREE.CylinderGeometry(80, 80, 200, 64),
          new THREE.MeshPhongMaterial({ color: "#007BFF" })
        );
        cylinder.position.set(0, 0, -400);
        scene.add(cylinder);

        // 3. Куб
        let cube = new THREE.Mesh(
          new THREE.BoxGeometry(160, 160, 160),
          new THREE.MeshPhongMaterial({ color: "orange" })
        );
        cube.position.set(400, 0, -400);
        scene.add(cube);

        //Пирамида
        let pyramid = new THREE.Mesh(
          new THREE.ConeGeometry(100, 200, 4),
          new THREE.MeshPhongMaterial({ color: "pink" })
        );
        pyramid.position.set(-400, 0, 0);
        scene.add(pyramid);

        //Тор
        let torus = new THREE.Mesh(
          new THREE.TorusGeometry(100, 30, 16, 100),
          new THREE.MeshPhongMaterial({ color: "#8506A9" })
        );
        torus.position.set(0, 0, 0);
        torus.rotation.x = Math.PI / 2;
        scene.add(torus);

        //Конус
        let cone = new THREE.Mesh(
          new THREE.ConeGeometry(100, 200, 32),
          new THREE.MeshPhongMaterial({ color: "#986C50" })
        );
        cone.position.set(400, 0, 0);
        scene.add(cone);

        //Призма (треугольная)
        let prism = new THREE.Mesh(
          new THREE.CylinderGeometry(80, 80, 180, 3),
          new THREE.MeshPhongMaterial({ color: "#FF00F4" })
        );
        prism.position.set(-400, 0, 400);
        prism.rotation.z = Math.PI / 2; // положена на бок
        scene.add(prism);

        //Кубоид (прямоугольный параллелепипед)
        let cuboid = new THREE.Mesh(
          new THREE.BoxGeometry(200, 100, 120),
          new THREE.MeshPhongMaterial({ color: "#FFDD00" })
        );
        cuboid.position.set(0, 0, 400);
        scene.add(cuboid);

        // Полусфера
        let hemisphere = new THREE.Mesh(
          new THREE.SphereGeometry(100, 32, 16, 0, Math.PI * 2, 0, Math.PI / 2),
          new THREE.MeshPhongMaterial({ color: "green" })
        );
        hemisphere.position.set(400, 0, 400);
        scene.add(hemisphere);

        // // Чайник
        // let teapot = new THREE.Mesh(
        //   new TeapotGeometry(70),
        //   new THREE.MeshPhongMaterial({ color: "#72B29E" })
        // );
        // teapot.position.set(0, 400, 0);
        // scene.add(teapot);

        // Сетка-помощник
        const helper = new THREE.GridHelper(1000, 10);
        scene.add(helper);

        // Слушатель событий
        window.addEventListener("resize", onWindowResize);
      }

      function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      }

      function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
      }
    </script>
  </body>
</html>
